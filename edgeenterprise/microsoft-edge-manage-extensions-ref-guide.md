---
title: Подробное руководство по политике ExtensionSettings
ms.author: aspoddar
author: dan-wesley
manager: balajek
ms.date: 06/29/2021
audience: ITPro
ms.topic: conceptual
ms.prod: microsoft-edge
ms.localizationpriority: medium
ms.collection: M365-modern-desktop
description: Подробное руководство по настройке расширений Microsoft Edge с помощью политики ExtensionSettings.
ms.openlocfilehash: 3acd798be6b2b56761991d8adaf014ae614a3fd4
ms.sourcegitcommit: bce02a5ce2617bb37ee5d743365d50b5fc8e4aa1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2021
ms.locfileid: "11641325"
---
# <a name="detailed-guide-to-the-extensionsettings-policy"></a><span data-ttu-id="dfd0b-103">Подробное руководство по политике ExtensionSettings</span><span class="sxs-lookup"><span data-stu-id="dfd0b-103">Detailed guide to the ExtensionSettings policy</span></span>

<span data-ttu-id="dfd0b-104">Microsoft Edge предлагает несколько способов управления расширениями.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-104">Microsoft Edge offers multiple ways to manage extensions.</span></span> <span data-ttu-id="dfd0b-105">Распространенным способом является настройка нескольких политик в одном месте с помощью строки JSON в редакторе групповой политики Windows или в реестре Windows, используя политику[ExtensionSettings.](/deployedge/microsoft-edge-policies#extensionsettings)</span><span class="sxs-lookup"><span data-stu-id="dfd0b-105">A common way is to set multiple policies in one place with a JSON string in the Windows Group Policy Editor or in the Windows Registry using the [ExtensionSettings](/deployedge/microsoft-edge-policies#extensionsettings) policy.</span></span>

> [!NOTE]
> <span data-ttu-id="dfd0b-106">Эта статья относится к Microsoft Edge версии 77 или более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-106">This article applies to Microsoft Edge version 77 or later.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="dfd0b-107">Перед началом работы</span><span class="sxs-lookup"><span data-stu-id="dfd0b-107">Before you begin</span></span>

<span data-ttu-id="dfd0b-108">Вы решаете, хотите ли вы установить все параметры управления расширениями здесь или настроить эти элементы управления с помощью других политик.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-108">You decide if you want to set all extension management settings here or set these controls through other policies.</span></span>
  
<span data-ttu-id="dfd0b-109">Политика ExtensionSettings может заменять другие политики, которые были установлены в других частях групповой политики, включая следующие:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-109">The ExtensionSettings policy can overwrite other policies that you've set elsewhere in group policy, including the following policies:</span></span>

- [<span data-ttu-id="dfd0b-110">ExtensionAllowedTypes</span><span class="sxs-lookup"><span data-stu-id="dfd0b-110">ExtensionAllowedTypes</span></span>](/DeployEdge/microsoft-edge-policies#extensionallowedtypes)
- [<span data-ttu-id="dfd0b-111">ExtensionInstallBlocklist</span><span class="sxs-lookup"><span data-stu-id="dfd0b-111">ExtensionInstallBlocklist</span></span>](/DeployEdge/microsoft-edge-policies#extensioninstallblocklist)
- [<span data-ttu-id="dfd0b-112">ExtensionInstallForcelist</span><span class="sxs-lookup"><span data-stu-id="dfd0b-112">ExtensionInstallForcelist</span></span>](/DeployEdge/microsoft-edge-policies#extensioninstallforcelist)
- [<span data-ttu-id="dfd0b-113">ExtensionInstallSources</span><span class="sxs-lookup"><span data-stu-id="dfd0b-113">ExtensionInstallSources</span></span>](/DeployEdge/microsoft-edge-policies#extensioninstallsources)
- [<span data-ttu-id="dfd0b-114">ExtensionInstallAllowlist</span><span class="sxs-lookup"><span data-stu-id="dfd0b-114">ExtensionInstallAllowlist</span></span>](/DeployEdge/microsoft-edge-policies#extensioninstallsources)

## <a name="extensionsettings-policy-fields"></a><span data-ttu-id="dfd0b-115">Поля политики ExtensionSettings</span><span class="sxs-lookup"><span data-stu-id="dfd0b-115">ExtensionSettings policy fields</span></span>

<span data-ttu-id="dfd0b-116">Эта политика может управлять такими параметрами, как URL-адрес обновления, откуда расширение будет загружаться для начальной установки, а также заблокированные расширения, которые запрещено использовать.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-116">This policy can control settings such as Update URL, where the extension will be downloaded from for initial install, and Blocked permissions, or which permissions aren't allowed to run.</span></span> <span data-ttu-id="dfd0b-117">Доступные поля политик описаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-117">The available policy fields are described in the following table.</span></span>

| &nbsp; | <span data-ttu-id="dfd0b-118">Описание</span><span class="sxs-lookup"><span data-stu-id="dfd0b-118">Description</span></span> |
|--|--|
| **<span data-ttu-id="dfd0b-119">allowed_types</span><span class="sxs-lookup"><span data-stu-id="dfd0b-119">allowed_types</span></span>** | <span data-ttu-id="dfd0b-120">Можно использовать только для настройки конфигурации по умолчанию,\*.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-120">Can only be used to configure the default configuration, \*.</span></span> <span data-ttu-id="dfd0b-121">Указывает, какие типы приложений или расширений разрешено устанавливать на Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-121">Specifies what types of app or extension users are allowed to install on Microsoft Edge.</span></span> <span data-ttu-id="dfd0b-122">Значение представляет собой список строк, каждая из которых должна иметь одно из следующих значений: "extension", "theme", "user_script", и "hosted_app".</span><span class="sxs-lookup"><span data-stu-id="dfd0b-122">The value is a list of strings, each of which should be one of the following types: "extension", "theme", "user_script", and "hosted_app"</span></span>   |
| **<span data-ttu-id="dfd0b-123">blocked_install_message</span><span class="sxs-lookup"><span data-stu-id="dfd0b-123">blocked_install_message</span></span>**| <span data-ttu-id="dfd0b-124">Если вы блокируете установку определенных расширений пользователями, можно указать сообщение, которое будет отображаться в браузере, если пользователи попытаются установить их.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-124">If you block users from installing certain extensions, you can specify a custom message to display in the browser if users try to install them.</span></span><br><span data-ttu-id="dfd0b-125">Добавление текста к универсальному сообщению об ошибке, отображаемому на веб-сайте надстроек Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-125">Append text to the generic error message that is displayed on the Microsoft Edge Add-ons website.</span></span> <span data-ttu-id="dfd0b-126">Например, вы можете сообщить пользователям, как связаться с ИТ-отделом, или почему конкретное расширение недоступно.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-126">For example, you can tell users how to contact their IT department or why a particular extension is unavailable.</span></span> <span data-ttu-id="dfd0b-127">Сообщение должно содержать не более 1 000 символов.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-127">The message can be up to 1,000 characters long.</span></span>   |
|**<span data-ttu-id="dfd0b-128">blocked_permissions</span><span class="sxs-lookup"><span data-stu-id="dfd0b-128">blocked_permissions</span></span>**  | <span data-ttu-id="dfd0b-129">Не позволяет пользователям устанавливать и запускать расширения, которые требуют определенных разрешений API, запрещенных вашей организацией.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-129">Prevents users from installing and running extensions that request certain API permissions that your organization doesn’t allow.</span></span> <span data-ttu-id="dfd0b-130">Например, можно заблокировать расширения, которые обращаются к файлам cookie.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-130">For example, you can block extensions that access cookies.</span></span> <span data-ttu-id="dfd0b-131">Если расширение требует разрешения, которое вы заблокировали, пользователь не может установить его.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-131">If an extension requires a permission that you blocked, the user can’t install it.</span></span> <span data-ttu-id="dfd0b-132">Если пользователи ранее установили расширение, оно больше не будет загружаться.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-132">If users previously installed the extension, it will no longer load.</span></span> <span data-ttu-id="dfd0b-133">Если расширение содержит заблокированные разрешения в качестве необязательных требований, оно устанавливается в обычном режиме.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-133">If an extension contains a blocked permission as an optional requirement, it installs as usual.</span></span> <span data-ttu-id="dfd0b-134">Затем при запуске расширения заблокированные разрешения будут автоматически отклонены.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-134">Then, while the extension is running, blocked permissions are automatically declined.</span></span><br><span data-ttu-id="dfd0b-135">Список доступных разрешений см. в разделе [Объявление разрешений.](/microsoft-edge/extensions-chromium/enterprise/declare-permissions)</span><span class="sxs-lookup"><span data-stu-id="dfd0b-135">For a list of available permissions, see [declare permissions](/microsoft-edge/extensions-chromium/enterprise/declare-permissions).</span></span>   |
| **<span data-ttu-id="dfd0b-136">installation_mode</span><span class="sxs-lookup"><span data-stu-id="dfd0b-136">installation_mode</span></span>**| <span data-ttu-id="dfd0b-137">Указывает, добавляются ли в Microsoft Edge расширения, которые вы указываете, и если дат, то как.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-137">Controls if and how extensions that you specify are added to Microsoft Edge.</span></span> <span data-ttu-id="dfd0b-138">Можно задать один из следующих режимов установки:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-138">You can set the installation mode to one of the following options:</span></span><br><span data-ttu-id="dfd0b-139">— allowed: пользователи могут установить расширение.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-139">- allowed: Users can install the extension.</span></span> <span data-ttu-id="dfd0b-140">Если не определен режим установки, этот параметр применяется по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-140">If no installation mode is defined, this setting is the default.</span></span><br><span data-ttu-id="dfd0b-141">— blocked: пользователи не могут установить расширение.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-141">- blocked: Users can’t install the extension.</span></span><br><span data-ttu-id="dfd0b-142">— force_installed: автоматическая установка расширения без взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-142">- force_installed: Automatically install the extension without user interaction.</span></span> <span data-ttu-id="dfd0b-143">Пользователи не могут удалить его.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-143">Users can’t remove it.</span></span> <span data-ttu-id="dfd0b-144">Также необходимо определить расположение загрузки расширения с помощью update_url.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-144">You also need to define the extension download location using update_url.</span></span> <span data-ttu-id="dfd0b-145">**Примечание.** Этот параметр нельзя использовать с \*, потому что Microsoft Edge не сможет определить, какое расширение нужно автоматически установить.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-145">**Note**: You can’t use this setting with \* because Microsoft Edge wouldn't know which extension to automatically install.</span></span><br><span data-ttu-id="dfd0b-146">— normal_installed: автоматически устанавливать расширение без взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-146">- normal_installed: Automatically install the extension without user interaction.</span></span> <span data-ttu-id="dfd0b-147">Пользователи могут отключить его.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-147">Users can disable it.</span></span> <span data-ttu-id="dfd0b-148">Также необходимо определить расположение загрузки расширения с помощью update_url.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-148">You also need to define the extension download location using update_url.</span></span> <span data-ttu-id="dfd0b-149">**Примечание.** Этот параметр нельзя использовать с \*, потому что Microsoft Edge не сможет определить, какое расширение нужно автоматически установить.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-149">**Note**: You can’t use this setting with \* because Microsoft Edge wouldn't know which extension to automatically install.</span></span><br><span data-ttu-id="dfd0b-150">— removed: пользователи не могут установить расширение.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-150">- removed: Users can’t install the extension.</span></span> <span data-ttu-id="dfd0b-151">Если пользователи ранее устанавливали расширение, Microsoft Edge удалит его.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-151">If users previously installed the extension, Microsoft Edge removes it.</span></span> |  |
| **<span data-ttu-id="dfd0b-152">install_sources</span><span class="sxs-lookup"><span data-stu-id="dfd0b-152">install_sources</span></span>** | <span data-ttu-id="dfd0b-153">Можно использовать только для настройки конфигурации по умолчанию,\*.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-153">Can be used only to configure the default configuration, \*.</span></span> <span data-ttu-id="dfd0b-154">Указывает, с каких URL-адресов можно устанавливать расширения.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-154">Specifies which URLs are allowed to install extensions.</span></span> <span data-ttu-id="dfd0b-155">Этим шаблонам должно быть разрешено как местоположение файла \*.crx, так и страница, с которой начинается загрузка (реферер).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-155">Both the location of the \*.crx file and the page where the download is started from (the referrer) must be allowed by these patterns.</span></span> <span data-ttu-id="dfd0b-156">Примеры шаблонов URL см. в разделе [Шаблоны соответствия](/microsoft-edge/extensions-chromium/enterprise/match-patterns).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-156">For URL pattern examples, see the [match patterns](/microsoft-edge/extensions-chromium/enterprise/match-patterns).</span></span>  |
| **<span data-ttu-id="dfd0b-157">minimum_version_required</span><span class="sxs-lookup"><span data-stu-id="dfd0b-157">minimum_version_required</span></span>** |<span data-ttu-id="dfd0b-158">Microsoft Edge отключает расширения, в том числе вынужденно установленные расширения, с версией старше указанной минимальной версии.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-158">Microsoft Edge disables extensions, including force-installed extensions, with a version older than the specified minimum version.</span></span><br><span data-ttu-id="dfd0b-159">Формат строки версии тот же, что и в манифесте расширения.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-159">The format of the version string is the same as the one used in the extension manifest.</span></span>     |
| **<span data-ttu-id="dfd0b-160">update_url</span><span class="sxs-lookup"><span data-stu-id="dfd0b-160">update_url</span></span>** | <span data-ttu-id="dfd0b-161">Применяется только к force_installed и  normal_installed.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-161">Only applies to force_installed and normal_installed.</span></span> <span data-ttu-id="dfd0b-162">Указывает, откуда Microsoft Edge следует скачать расширение.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-162">Specifies where Microsoft Edge should download an extension from.</span></span> <span data-ttu-id="dfd0b-163">Если расширение расположено на веб-сайте надстроек Microsoft Edge, используйте это расположение: `https://edge.microsoft.com/extensionwebstorebase/v1/crx`.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-163">If the extension is hosted in the Microsoft Edge Add-ons website, use this location: `https://edge.microsoft.com/extensionwebstorebase/v1/crx`.</span></span><br><span data-ttu-id="dfd0b-164">Microsoft Edge использует URL-адрес, указанный вами для начальной установки расширения.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-164">Microsoft Edge uses the URL that you specify for the initial extension installation.</span></span> <span data-ttu-id="dfd0b-165">Для последующих обновлений расширения Microsoft Edge использует URL-адрес в манифесте расширения.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-165">For subsequent extension updates, Microsoft Edge uses the URL in the extension's manifest.</span></span>   |
| **<span data-ttu-id="dfd0b-166">runtime_allowed_hosts</span><span class="sxs-lookup"><span data-stu-id="dfd0b-166">runtime_allowed_hosts</span></span>**| <span data-ttu-id="dfd0b-167">Позволяет расширениям взаимодействовать с указанными веб-сайтами, даже если они также определены в runtime_blocked_hosts.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-167">Allows extensions to interact with specified websites, even if they’re also defined in runtime_blocked_hosts.</span></span> <span data-ttu-id="dfd0b-168">Можно указать до 100 элементов.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-168">You can specify up to 100 entries.</span></span> <span data-ttu-id="dfd0b-169">Элементы сверх этого числа удаляются.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-169">Extra entries are discarded.</span></span><br><span data-ttu-id="dfd0b-170">Формат шаблона узла аналогичен  [шаблонам соответствия](/microsoft-edge/extensions-chromium/enterprise/match-patterns) , но нельзя задать путь.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-170">The host pattern format is similar to [match patterns](/microsoft-edge/extensions-chromium/enterprise/match-patterns) except you can’t define the path.</span></span> <span data-ttu-id="dfd0b-171">Например:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-171">For example:</span></span><br><span data-ttu-id="dfd0b-172">- *://*.example.com</span><span class="sxs-lookup"><span data-stu-id="dfd0b-172">- *://*.example.com</span></span><br><span data-ttu-id="dfd0b-173">- *://example.* — поддерживаются подстановочные знаки eTLD</span><span class="sxs-lookup"><span data-stu-id="dfd0b-173">- *://example.*—eTLD wildcards are supported</span></span>     |
| **<span data-ttu-id="dfd0b-174">runtime_blocked_hosts</span><span class="sxs-lookup"><span data-stu-id="dfd0b-174">runtime_blocked_hosts</span></span>**| <span data-ttu-id="dfd0b-175">Запретить расширениям взаимодействовать с указанными веб-сайтами или изменять их.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-175">Prevent extensions from interacting with or modifying websites that you specify.</span></span> <span data-ttu-id="dfd0b-176">Изменения включают блокировку внедрения JavaScript, доступ к файлам cookie и изменения по веб-запросу.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-176">Modifications include blocking JavaScript injection, cookie access, and web-request modifications.</span></span><br><span data-ttu-id="dfd0b-177">Можно указать до 100 элементов.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-177">You can specify up to 100 entries.</span></span> <span data-ttu-id="dfd0b-178">Элементы сверх этого числа удаляются.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-178">Extra entries are discarded.</span></span><br><span data-ttu-id="dfd0b-179">Формат шаблона узла похож на шаблоны соответствия, но нельзя задать путь.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-179">The host pattern format is similar to match patterns except you can’t define the path.</span></span> <span data-ttu-id="dfd0b-180">Например:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-180">For example:</span></span><br><span data-ttu-id="dfd0b-181">- *://*.example.com</span><span class="sxs-lookup"><span data-stu-id="dfd0b-181">- *://*.example.com</span></span><br><span data-ttu-id="dfd0b-182">- *://example.* — поддерживаются подстановочные знаки eTLD</span><span class="sxs-lookup"><span data-stu-id="dfd0b-182">- *://example.*—eTLD wildcards are supported</span></span>   |


## <a name="configure-using-a-json-string-in-windows-group-policy-editor"></a><span data-ttu-id="dfd0b-183">Настройка строки JSON в редакторе групповой политики Windows</span><span class="sxs-lookup"><span data-stu-id="dfd0b-183">Configure using a JSON string in Windows Group Policy Editor</span></span>

<span data-ttu-id="dfd0b-184">При использовании политики параметров расширения с помощью GPO предполагается, что вы уже импортировали ADM/ADMX для политик Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-184">The steps to use the extension settings policy using GPO assume that you've already imported the ADM/ADMX for Microsoft Edge Policies.</span></span>

1. <span data-ttu-id="dfd0b-185">Откройте редактор групповой политики и перейдите в **Microsoft Edge > Расширения > Настроить политику управления параметрами расширения**.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-185">Open the group policy editor and go to go to **Microsoft Edge > Extensions > Configure extension management setting policy**.</span></span>
2. <span data-ttu-id="dfd0b-186">Включите политику и введите в текстовом поле ее данные в сжатой нотации объектов JavaScript (JSON) в виде одной строки без разрывов.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-186">Enable the policy and enter its compact JavaScript Object Notation (JSON) data in the text box as a single line with no line breaks.</span></span>
3. <span data-ttu-id="dfd0b-187">Чтобы проверить политику и сжать ее до одной строки, используйте средство сжатия JSON.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-187">To validate the policy and compact it into a single line, use a JSON compression tool.</span></span>

### <a name="properly-format-json-for-the-extension-settings-policy"></a><span data-ttu-id="dfd0b-188">Правильное форматирование JSON для политики параметров расширения</span><span class="sxs-lookup"><span data-stu-id="dfd0b-188">Properly format JSON for the extension settings policy</span></span>

<span data-ttu-id="dfd0b-189">Необходимо понимать две части этой политики — область по умолчанию и индивидуальную область.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-189">You need to understand the two parts to this policy — the default scope and the individual scope.</span></span> <span data-ttu-id="dfd0b-190">Область по умолчанию охватывает все расширения без их собственных областей.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-190">The default scope is a catch-all for extensions without their own scope.</span></span> <span data-ttu-id="dfd0b-191">Индивидуальная область применяется только к данному расширению.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-191">The individual scope is applied to that extension only.</span></span>  

<span data-ttu-id="dfd0b-192">Область по умолчанию отмечена звездочкой (\*).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-192">The default scope is identified by the asterisk (\*).</span></span> <span data-ttu-id="dfd0b-193">В следующем примере определяется область по умолчанию и индивидуальная область расширения.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-193">The next example defines a default scope and an individual extension scope.</span></span>

```json
{ 
   “*”: {}, 
   “nckgahadagoaajjgafhacjanaoiihapd”: {} 
} 
```

<span data-ttu-id="dfd0b-194">Расширение получит параметры только одной из областей.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-194">An extension will only get its settings from one scope.</span></span> <span data-ttu-id="dfd0b-195">Если для расширения существует индивидуальная область расширения, её параметры применяются к данному расширению.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-195">If there’s an individual extension scope for that extension, those will be the settings that apply to that extension.</span></span> <span data-ttu-id="dfd0b-196">Если не существует отдельной области расширения, то расширение будет использовать область по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-196">If no individual extension scope exists, then the extension will use the default scope.</span></span>  

<span data-ttu-id="dfd0b-197">Следующий образец JSON запрещает любому расширению запуск `.example.com`, а также блокирует любое расширение, требующее разрешения "USB".</span><span class="sxs-lookup"><span data-stu-id="dfd0b-197">The next JSON example blocks any extension from running on `.example.com` and blocks any extension that requires the permission "USB".</span></span>

```json
{ 
  "*": { 
    "runtime_blocked_hosts": ["*://*.example.com"], 
    "blocked_permissions": ["usb"] 
  } 
} 
```

**<span data-ttu-id="dfd0b-198">Сжатая JSON</span><span class="sxs-lookup"><span data-stu-id="dfd0b-198">Compact JSON</span></span>**

```json
{"*":{"runtime_blocked_hosts":["*://*.example.com"],"blocked_permissions":["usb"]}} 
```

### <a name="a-few-more-json-examples-for-extension-settings"></a><span data-ttu-id="dfd0b-199">Еще несколько примеров JSON для параметров расширения</span><span class="sxs-lookup"><span data-stu-id="dfd0b-199">A few more JSON examples for extension settings</span></span>

#### <a name="using-installation_mode-property-to-allow-and-block-extensions"></a><span data-ttu-id="dfd0b-200">Использование свойства installation_mode для разрешения и блокировки расширений</span><span class="sxs-lookup"><span data-stu-id="dfd0b-200">Using installation_mode property to allow and block extensions</span></span>

- <span data-ttu-id="dfd0b-201">Пользователь может установить все расширения — параметр по умолчанию</span><span class="sxs-lookup"><span data-stu-id="dfd0b-201">User can install all extensions - this is the default setting</span></span> 

  `{ "*": {"installation_mode": "allowed" }}`
- <span data-ttu-id="dfd0b-202">Пользователь не может устанавливать расширения.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-202">User can’t install any extensions.</span></span>  

  `{ "*": {"installation_mode": "blocked" }}`

- <span data-ttu-id="dfd0b-203">Укажите пользовательское сообщение, которое будет отображаться при блокировке установки.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-203">Specify a custom message to display when installation is blocked.</span></span>

   `{"*": {"blocked_install_message": ["Call IT(408 - 555 - 1234) for an exception"]}}`

#### <a name="using-installation_mode-property-to-force-install-extensions"></a><span data-ttu-id="dfd0b-204">Использование свойства installation_mode для принудительной установки расширений</span><span class="sxs-lookup"><span data-stu-id="dfd0b-204">Using installation_mode property to force install extensions</span></span>

<span data-ttu-id="dfd0b-205">При использовании свойства installation_mode как "force_installed" расширение автоматически устанавливается без взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-205">When using installation_mode as "force_installed", the extension is automatically installed without user interaction.</span></span> <span data-ttu-id="dfd0b-206">Пользователь не может выключить или удалить расширение.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-206">A user can’t disable or remove the extension.</span></span> <span data-ttu-id="dfd0b-207">Если расширение установлено как "normal" или "force", поле \*\* update_ur\*\* тоже должно быть заполнено.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-207">If an extension is "normal" or "force" installed, the **update_url** field must also be defined.</span></span> <span data-ttu-id="dfd0b-208">Это поле указывает, откуда можно установить расширение.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-208">This field points to the location where the extension can be installed from.</span></span> <span data-ttu-id="dfd0b-209">Используйте следующие расположения для поля **update_url**:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-209">Use the following locations for the **update_url** field:</span></span>

- <span data-ttu-id="dfd0b-210">Если скачиваемые расширения размещены в магазине надстроек Microsoft Edge, используйте [https://edge.microsoft.com/extensionwebstorebase/v1/crx](https://edge.microsoft.com/extensionwebstorebase/v1/crx).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-210">If the extension you’re downloading is hosted on the Microsoft Edge Add-ons store, use [https://edge.microsoft.com/extensionwebstorebase/v1/crx](https://edge.microsoft.com/extensionwebstorebase/v1/crx).</span></span>
- <span data-ttu-id="dfd0b-211">Если загружаемое расширение размещено в интернет-магазине Chrome, используйте [https://clients2.google.com/service/update2/crx](https://clients2.google.com/service/update2/crx).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-211">If the extension you’re downloading is hosted on the Chrome Web Store, use [https://clients2.google.com/service/update2/crx](https://clients2.google.com/service/update2/crx).</span></span>
- <span data-ttu-id="dfd0b-212">Если расширение размещено на вашем собственном сервере, используйте такой URL-адрес, с которого Microsoft Edge может скачать упакованное расширение (crx-файл).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-212">If you’re hosting the extension on your own server, use the URL where Microsoft Edge can download the packed extension (.crx file).</span></span> <span data-ttu-id="dfd0b-213">Пример JSON</span><span class="sxs-lookup"><span data-stu-id="dfd0b-213">JSON example:</span></span>

   `{"nckgahadagoaajjgafhacjanaoiihapd": {"installation_mode": "force_installed","update_url": "https://edge.microsoft.com/extensionwebstorebase/v1/crx"}}`
  
<span data-ttu-id="dfd0b-214">В этом примере вместо "force_installed", если используется "normal_installed", расширение автоматически устанавливается без взаимодействия с пользователем, но может быть отключено.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-214">In the above example Instead of "force_installed", if you use "normal_installed", then the extension is automatically installed without user interaction, but they can disable the extension.</span></span>  

   > [!TIP]
   > <span data-ttu-id="dfd0b-215">Правильно отформатировать строку JSON может быть сложно.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-215">Formatting a JSON string correctly can be tricky.</span></span> <span data-ttu-id="dfd0b-216">Перед реализацией политики используйте проверку JSON.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-216">Use a JSON checker before implementing the policy.</span></span> <span data-ttu-id="dfd0b-217">Или попробуйте раннюю версию [Extension Settings Generator Tool](https://microsoft.github.io/edge-extension-settings-generator/minimal)</span><span class="sxs-lookup"><span data-stu-id="dfd0b-217">Or try the early version of [Extension Settings Generator Tool](https://microsoft.github.io/edge-extension-settings-generator/minimal)</span></span>

## <a name="configure-using-the-windows-registry"></a><span data-ttu-id="dfd0b-218">Настройка с помощью реестра Windows</span><span class="sxs-lookup"><span data-stu-id="dfd0b-218">Configure using the Windows Registry</span></span>

<span data-ttu-id="dfd0b-219">Политика ExtensionSettings должна быть записана в этот раздел реестра:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-219">The ExtensionSettings policy should be written to the registry under this key:</span></span>

`HKLM\Software\Policies\Microsoft\Edge\`

> [!NOTE]
> <span data-ttu-id="dfd0b-220">Вместо HKLM можно использовать HKCU.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-220">It’s possible to use HKCU instead of HKLM.</span></span> <span data-ttu-id="dfd0b-221">Эквивалентный путь можно настроить с помощью объекта групповой политики (GPO).</span><span class="sxs-lookup"><span data-stu-id="dfd0b-221">The equivalent path can be configured with Group Policy Object (GPO).</span></span>  

<span data-ttu-id="dfd0b-222">Для Microsoft Edge все параметры будут запускаться в этом разделе:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-222">For Microsoft Edge, all settings will start under this key:</span></span>

`HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Edge\`

<span data-ttu-id="dfd0b-223">Следующий раздел, который следует создать, — это либо ID расширения для индивидуальной области, либо звездочка (\*) для области по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-223">The next key that you will create is either the Extension ID for individual scope or an asterisk (\*) for the Default Scope.</span></span> <span data-ttu-id="dfd0b-224">Например, для параметров, которые применяются к Google Hangouts, необходимо использовать следующее расположение:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-224">For example, you'd use the following location for settings that apply to Google Hangouts:</span></span>

`HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Edge\ExtensionSettings\nckgahadagoaajjgafhacjanaoiihapd`

<span data-ttu-id="dfd0b-225">Для параметров, которые применяются к области по умолчанию, используйте это расположение:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-225">For settings that apply to the Default Scope, use this location:</span></span>

`HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Edge\ExtensionSettings\*`

<span data-ttu-id="dfd0b-226">Для различных параметров требуются различные форматы, в зависимости от того, являются ли они строкой или массивом строк.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-226">Different settings will require different formats, depending on whether they are a string or an array of strings.</span></span> <span data-ttu-id="dfd0b-227">Значения массива требуют формата [＂значение＂].</span><span class="sxs-lookup"><span data-stu-id="dfd0b-227">Array values require [＂value＂].</span></span> <span data-ttu-id="dfd0b-228">Строки могут быть введены без изменений.</span><span class="sxs-lookup"><span data-stu-id="dfd0b-228">String values can be entered as is.</span></span> <span data-ttu-id="dfd0b-229">В следующем списке показано, какие параметры являются массивами или строками:</span><span class="sxs-lookup"><span data-stu-id="dfd0b-229">The following list shows which settings are arrays or strings:</span></span>

- <span data-ttu-id="dfd0b-230">nstallation_mode = Строка</span><span class="sxs-lookup"><span data-stu-id="dfd0b-230">Installation_mode = String</span></span>
- <span data-ttu-id="dfd0b-231">update_url = Строка</span><span class="sxs-lookup"><span data-stu-id="dfd0b-231">update_url = String</span></span>
- <span data-ttu-id="dfd0b-232">blocked_permissions = Массив строк</span><span class="sxs-lookup"><span data-stu-id="dfd0b-232">blocked_permissions = Array of strings</span></span>
- <span data-ttu-id="dfd0b-233">allowed_permissions = Массив строк</span><span class="sxs-lookup"><span data-stu-id="dfd0b-233">allowed_permissions = Array of Strings</span></span>
- <span data-ttu-id="dfd0b-234">minimum_version_required = Строка</span><span class="sxs-lookup"><span data-stu-id="dfd0b-234">minimum_version_required = String</span></span>
- <span data-ttu-id="dfd0b-235">runtime_blocked_hosts = Массив строк</span><span class="sxs-lookup"><span data-stu-id="dfd0b-235">runtime_blocked_hosts = Array of strings</span></span>
- <span data-ttu-id="dfd0b-236">runtime_allowed_hosts = Массив строк</span><span class="sxs-lookup"><span data-stu-id="dfd0b-236">runtime_allowed_hosts = Array of Strings</span></span>
- <span data-ttu-id="dfd0b-237">blocked_install_message = Строка</span><span class="sxs-lookup"><span data-stu-id="dfd0b-237">blocked_install_message = String</span></span>


## <a name="see-also"></a><span data-ttu-id="dfd0b-238">См. также</span><span class="sxs-lookup"><span data-stu-id="dfd0b-238">See also</span></span>

- [<span data-ttu-id="dfd0b-239">Управление расширениями Microsoft Edge на предприятии</span><span class="sxs-lookup"><span data-stu-id="dfd0b-239">Manage Microsoft Edge extensions in the enterprise</span></span>](microsoft-edge-manage-extensions.md)
- [<span data-ttu-id="dfd0b-240">Использование групповых политик для управления расширениями Microsoft Edge</span><span class="sxs-lookup"><span data-stu-id="dfd0b-240">Use group policies to manage Microsoft Edge extensions</span></span>](microsoft-edge-manage-extensions-policies.md)
- [<span data-ttu-id="dfd0b-241">Часто задаваемые вопросы о расширениях Microsoft Edge</span><span class="sxs-lookup"><span data-stu-id="dfd0b-241">FAQ for Microsoft Edge Extensions</span></span>](microsoft-edge-manage-extensions-faq.md)
- [<span data-ttu-id="dfd0b-242">Целевая страница Microsoft Edge Enterprise</span><span class="sxs-lookup"><span data-stu-id="dfd0b-242">Microsoft Edge Enterprise landing page</span></span>](https://aka.ms/EdgeEnterprise)
